function mainApp(){userPreferences(),menuToggle(),actionsTheme(),getCountProjects(),getCountTask(),getCountTaskPending(),getCountTaskCompleted()}function userPreferences(){const e=localStorage.getItem("theme"),t=getCurrentTheme();e?changeTheme(e):localStorage.setItem("theme",t)}function getCurrentTheme(){return document.body.classList.contains("dark-theme")?"dark":"light"}function menuToggle(){const e=document.getElementById("menu-toggle"),t=document.getElementById("sidebar");e.addEventListener("click",()=>{t.classList.toggle("sidebar--show")})}function actionsTheme(){document.getElementById("light").addEventListener("click",(function(){changeTheme("light")})),document.getElementById("dark").addEventListener("click",(function(){changeTheme("dark")}))}function changeTheme(e){const t=document.getElementById("btn-change-theme").querySelector("svg"),n=document.body;"dark"===e?(t.innerHTML='\n            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />\n        ',n.classList.add("dark-theme"),n.classList.remove("light-theme")):(t.innerHTML='\n            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />\n        ',n.classList.add("light-theme"),n.classList.remove("dark-theme")),localStorage.setItem("theme",e)}document.addEventListener("DOMContentLoaded",mainApp),window.onscroll=()=>{sidebar.classList.remove("sidebar--show")};export async function getCountProjects(){try{const e="http://localhost:3000/api/projects",t=await fetch(e),n=(await t.json()).projects;if(document.getElementById("count-projects").textContent=n.length,clearHTML(),0===n.length){const e=document.createElement("P");e.className="fs-4 fw-semibold text-center",e.textContent="There are no projects yet, add one!";const t=document.createElement("A");return t.className="link btn btn-primary w-100 fs-4 text-center p-2 fw-semibold",t.textContent="Start add",t.href="/dashboard/projects",document.getElementById("projects-container").appendChild(e),void document.getElementById("projects-container").appendChild(t)}const o=n.slice(0,4),c=["projects-user__circle--primary","projects-user__circle--yellow","projects-user__circle--green","projects-user__circle--orange"];return o.forEach((e,t)=>{const n=document.createElement("DIV");n.className="d-flex align-items-center gap-3 mb-3";const o=document.createElement("SPAN");o.className="projects-user__circle mb-0 "+c[t%c.length];const s=document.createElement("P");s.className="mb-0 fs-4 name-project",s.textContent=e.name,n.appendChild(o),n.appendChild(s),document.getElementById("projects-container").appendChild(n)}),n.length}catch(e){return void console.log(e)}}export async function getCountTask(){try{const e="http://localhost:3000/api/tasks",t=await fetch(e),n=(await t.json()).tasks.length;return document.getElementById("all-task").textContent=n,n}catch(e){return void console.log(e)}}export async function getCountTaskPending(){try{const e="http://localhost:3000/api/tasks",t=await fetch(e),n=(await t.json()).tasks,o=n.filter(e=>"pending"===e.state).length;return document.getElementById("pending-tasks").textContent=o,o}catch(e){return void console.log(e)}}export async function getCountTaskCompleted(){try{const e="http://localhost:3000/api/tasks",t=await fetch(e),n=(await t.json()).tasks,o=n.filter(e=>"completed"===e.state).length;document.getElementById("completed-task").textContent=`Task Completed - ${o} / ${n.length}`;const c=o/n.length*100;return document.getElementById("progress-bar").style.width=c+"%",o}catch(e){return void console.log(e)}}function clearHTML(){const e=document.getElementById("projects-container");for(;e.firstChild;)e.removeChild(e.firstChild)}
//# sourceMappingURL=sidebar.js.map
